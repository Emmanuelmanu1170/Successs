<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Kwabenamedia - Register</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/10.5.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.5.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.5.2/firebase-database-compat.js"></script>

  <style>
    :root{
      --green:#0f9d58;
      --green-dark:#0c7b43;
      --wa:#25d366;
      --wa-dark:#1ebe5c;
    }

    /* Animated gradient background */
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #43a047, #1b5e20, #66bb6a);
      background-size: 250% 250%;
      animation: gradientShift 12s ease infinite;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      overflow: hidden; /* keeps floating stickers inside viewport */
    }
    @keyframes gradientShift {
      0%   { background-position: 0% 50%; }
      50%  { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* Floating emoji/stickers */
    .floating {
      position: absolute;
      font-size: 26px;
      opacity: .85;
      filter: drop-shadow(0 6px 10px rgba(0,0,0,.15));
      animation: floatY 6s ease-in-out infinite, sway 8s ease-in-out infinite;
      user-select: none;
      pointer-events: none;
    }
    .floating.small { font-size: 20px; opacity: .75; }
    .floating.big   { font-size: 34px; }

    @keyframes floatY {
      0%,100% { transform: translateY(0); }
      50%     { transform: translateY(-18px); }
    }
    @keyframes sway {
      0%,100% { transform: translateX(0) rotate(0deg); }
      50%     { transform: translateX(10px) rotate(4deg); }
    }

    /* Glassy register card with subtle glow */
    .register-box {
      position: relative;
      background: rgba(255,255,255,0.92);
      backdrop-filter: blur(10px);
      padding: 30px 25px;
      border-radius: 14px;
      box-shadow: 0 18px 40px rgba(0,0,0,0.18), 0 0 0 1px rgba(255,255,255,0.5) inset;
      width: 90%;
      max-width: 420px;
      z-index: 2;
      animation: cardIn .9s ease both;
    }
    @keyframes cardIn {
      from { opacity: 0; transform: translateY(18px) scale(.98); }
      to   { opacity: 1; transform: translateY(0) scale(1); }
    }

    /* Title with gradient text and gentle shine */
    h2 {
      margin: 0 0 16px;
      text-align: center;
      font-weight: 800;
      letter-spacing: .5px;
      background: linear-gradient(90deg, #0f9d58, #43a047, #00e676, #0f9d58);
      background-size: 300% 100%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: titleSweep 8s linear infinite;
    }
    @keyframes titleSweep {
      0%   { background-position: 0% 50%; }
      100% { background-position: 100% 50%; }
    }

    input {
      width: 100%;
      padding: 12px 13px;
      margin: 10px 0;
      border: 1px solid #d8e0da;
      border-radius: 10px;
      font-size: 15px;
      outline: none;
      transition: box-shadow .25s, border-color .25s, transform .08s;
      background: #fff;
    }
    input:focus {
      border-color: var(--green);
      box-shadow: 0 0 0 4px rgba(15,157,88,0.12);
      transform: translateY(-1px);
    }

    button {
      width: 100%;
      padding: 14px;
      background: var(--green);
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 16px;
      cursor: pointer;
      margin-top: 10px;
      font-weight: 700;
      box-shadow: 0 12px 22px rgba(15,157,88,0.22);
      transition: transform .15s ease, box-shadow .25s ease, background .25s ease;
    }
    button:hover {
      background: var(--green-dark);
      transform: translateY(-2px);
      box-shadow: 0 16px 28px rgba(15,157,88,0.28);
    }

    .login-link {
      margin-top: 14px;
      text-align: center;
      font-size: 14px;
      color: #2b523f;
    }
    .login-link a {
      color: var(--green);
      font-weight: 700;
      text-decoration: none;
      border-bottom: 2px solid rgba(15,157,88,.25);
      transition: border-color .25s, color .25s;
    }
    .login-link a:hover {
      color: var(--green-dark);
      border-color: rgba(15,157,88,.5);
    }

    .error {
      color: #c62828;
      background: #ffebee;
      border: 1px solid #ffcdd2;
      padding: 8px 10px;
      border-radius: 8px;
      font-size: 13px;
      margin-top: 10px;
      text-align: center;
      display: none; /* shown when needed */
    }

    /* Contact Admin button */
    .contact-btn {
      background: var(--wa);
      box-shadow: 0 12px 22px rgba(37,211,102,0.22);
    }
    .contact-btn:hover {
      background: var(--wa-dark);
      box-shadow: 0 16px 28px rgba(37,211,102,0.28);
    }

    /* Mobile spacing */
    @media (max-width: 520px) {
      .register-box { padding: 24px 18px; }
    }
  </style>
</head>
<body>

  <!-- Floating stickers (subtle, decorative, non-interactive) -->
  <div class="floating big"   style="top: 8%;  left: 8%;  animation-delay: .2s;">‚ú®</div>
  <div class="floating"       style="top: 18%; right: 10%; animation-delay: .8s;">üöÄ</div>
  <div class="floating small" style="bottom: 12%; left: 12%;animation-delay: 1.2s;">üí¨</div>
  <div class="floating"       style="bottom: 18%; right: 16%;animation-delay: .5s;">üìù</div>
  <div class="floating small" style="top: 55%; left: 5%;  animation-delay: 1.6s;">‚≠ê</div>

  <div class="register-box">
    <h2>Create Account</h2>
    <input type="text" id="name" placeholder="Full Name" required />
    <input type="email" id="email" placeholder="Email" required />
    <input type="tel" id="phone" placeholder="Phone Number" required />
    <input type="password" id="password" placeholder="Password" required />

    <button onclick="registerUser()">Register</button>
    <div class="error" id="errorText"></div>

    <div class="login-link">
      Already have an account? <a href="login.html">Login</a>
    </div>

    <!-- Contact Admin Button -->
    <button class="contact-btn" onclick="contactAdmin()">üìû Contact Admin (WhatsApp)</button>
  </div>

  <script>
    // Firebase config
    const firebaseConfig = {
      apiKey: "AIzaSyCGoDeUIKI_aWPV-Ys6Swlw9YQNcVhn5dY",
      authDomain: "kwabenamedia.firebaseapp.com",
      databaseURL: "https://kwabenamedia-default-rtdb.firebaseio.com",
    };

    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.database();

    function registerUser() {
      const name = document.getElementById("name").value.trim();
      const email = document.getElementById("email").value.trim();
      const phone = document.getElementById("phone").value.trim();
      const password = document.getElementById("password").value;

      const errorBox = document.getElementById("errorText");
      errorBox.style.display = "none";
      errorBox.textContent = "";

      if (!name || !email || !phone || !password) {
        errorBox.textContent = "All fields are required.";
        errorBox.style.display = "block";
        return;
      }

      auth.createUserWithEmailAndPassword(email, password)
        .then((userCredential) => {
          const user = userCredential.user;

          // Save extra info to the database
          db.ref("users/" + user.uid).set({
            name: name,
            email: email,
            phone: phone,
            createdAt: new Date().toISOString()
          });

          alert("Registration successful! Please login.");
          window.location.href = "login.html";
        })
        .catch((error) => {
          errorBox.textContent = error.message;
          errorBox.style.display = "block";
        });
    }

    function contactAdmin() {
      // Redirect to WhatsApp with your number
      window.open("https://wa.me/233554263293", "_blank");
    }
  </script>

</body>
</html>